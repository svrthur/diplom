# Планирование автоматизации тестирования

## 1. Перечень автоматизируемых сценариев

### 1.1 Оплата по дебетовой карте
1. **Успешная оплата по дебетовой карте**
   - **Предисловие**: Пользователь вводит корректные данные дебетовой карты и совершает оплату.
   - **Шаги**:
     1. Открыть страницу оплаты.
     2. Ввести корректные данные карты (номер, срок действия, CVV).
     3. Нажать кнопку "Оплатить".
   - **Ожидаемый результат**: Оплата успешно завершена, отображается подтверждающее сообщение, данные о платеже сохраняются в СУБД.

2. **Отказ в оплате по дебетовой карте**
   - **Предисловие**: Пользователь вводит некорректные данные карты, и система отклоняет оплату.
   - **Шаги**:
     1. Открыть страницу оплаты.
     2. Ввести некорректные данные (истёкший срок, неверный CVV).
     3. Нажать кнопку "Оплатить".
   - **Ожидаемый результат**: Отображается сообщение об отказе, запись о платеже отсутствует в СУБД.

### 1.2 Оплата через кредитную карту
3. **Успешная оплата через кредитную карту**
   - **Предисловие**: Пользователь вводит корректные данные кредитной карты и успешно совершает оплату.
   - **Шаги**:
     1. Открыть страницу оплаты.
     2. Ввести корректные данные кредитной карты.
     3. Нажать кнопку "Оплатить".
   - **Ожидаемый результат**: Оплата успешно завершена, данные о платеже сохраняются в СУБД.

4. **Отказ в оплате через кредитную карту**
   - **Предисловие**: Пользователь вводит некорректные данные карты, и система отклоняет оплату.
   - **Шаги**:
     1. Открыть страницу оплаты.
     2. Ввести некорректные данные карты (недостаточно средств, неверный CVV).
     3. Нажать кнопку "Оплатить".
   - **Ожидаемый результат**: Отображается сообщение об отказе, запись о платеже отсутствует в СУБД.

### 1.3 Дополнительные сценарии
5. **Корректное сохранение данных о платеже в СУБД**
   - **Предисловие**: Проверка корректного внесения данных после успешных и неуспешных платежей.
   - **Шаги**:
     1. Совершить успешную и неуспешную оплату.
     2. Проверить записи в MySQL и PostgreSQL.
   - **Ожидаемый результат**: Данные о платеже сохраняются корректно, в случае отказа записи отсутствуют.

6. **Отображение сообщений об успешной/неуспешной оплате**
   - **Предисловие**: Проверка корректности отображения сообщений для пользователя.
   - **Шаги**:
     1. Совершить успешную и неуспешную оплату.
     2. Проверить отображаемые сообщения.
   - **Ожидаемый результат**: Сообщения соответствуют статусу операции.

7. **Стабильность работы системы при массовых запросах**
   - **Предисловие**: Проверка работы сервиса при высокой нагрузке.
   - **Шаги**:
     1. Запустить нагрузочное тестирование с множеством параллельных платежей.
   - **Ожидаемый результат**: Система стабильно обрабатывает запросы, не возникает сбоев.

## 2. Перечень используемых инструментов с обоснованием выбора

- **Java + Selenium WebDriver** – для UI-тестирования, так как обеспечивает гибкость и поддержку различных браузеров.
- **JUnit/TestNG** – фреймворки для написания тестов, позволяющие управлять тестами и формировать отчёты.
- **Gradle** – удобный инструмент для управления зависимостями и сборки проекта.
- **Allure** – система визуализации отчетов о тестировании для удобного анализа результатов.
- **Report Portal** – централизованное хранилище отчетов с удобными аналитическими инструментами.
- **REST Assured** – инструмент для тестирования REST API, необходимый для проверки взаимодействия с банковскими сервисами.
- **Docker + Docker Compose** – для развёртывания окружения с базами данных и эмуляторами сервисов.
- **JDBC + SQL-запросы** – для верификации данных в базах MySQL и PostgreSQL.

## 3. Перечень и описание возможных рисков

- **Изменения в интерфейсе** – могут привести к необходимости адаптации UI-тестов.
- **Нестабильность окружения** – проблемы с контейнерами Docker или эмуляторами могут повлиять на корректность тестов.
- **Длительное выполнение тестов** – при большом количестве сценариев возможны задержки в их выполнении.
- **Ошибки в тестах** – некорректные тесты могут давать ложноположительные/отрицательные результаты.
- **Различия в поддержке БД** – MySQL и PostgreSQL могут работать по-разному с одними и теми же данными.

## 4. Интервальная оценка с учётом рисков в часах

| Этап | Минимальная оценка (часы) | Максимальная оценка (часы) |
|------|---------------------|---------------------|
| Разработка тестов | 40 | 60 |
| Настройка окружения | 10 | 15 |
| Написание SQL-запросов | 8 | 12 |
| Запуск и отладка тестов | 15 | 25 |
| Анализ отчётов и доработка | 10 | 20 |
| **Итого** | **83** | **132** |

## 5. План сдачи работ

- **Готовность автотестов** – через 2-3 недели после начала работ.
- **Результаты прогона** – после завершения написания тестов и их отладки.
- **Отчёт по автоматизации (Plan.md)** – загружается в репозиторий перед стартом работ.
- **Отчётные документы (Report.md и Summary.md)** – оформляются после завершения тестирования.

## 6. Отчёт по автоматизации

Файл **Plan.md** оформляется в формате Markdown и загружается в репозиторий проекта. В отчете содержится:
- Подробное описание запланированных тестов.
- Информация о применённых инструментах.
- Детальный анализ возможных рисков.
- Фактические затраты времени на реализацию.
